{% extends "user/base_user.html" %} {% block title %} Login | Oval Photo 
{%endblock %} {% block content %}


<div class="container-login">
  <!-- Logo -->
  <div class="login-logo">
    <img src="static/img/logo.png" alt="Logo">
    <h2 class="mb-0">Oval Photo</h2>
  </div>

  <!-- Login Card -->
  <div class="login-card">
    <form id="loginForm">
      <h2 class="login-title">Masuk</h2>
      <p class="login-subtitle">
        Selamat datang! Masuk untuk mulai merencanakan sesi foto kamu
      </p>

      <div class="mb-4">
        <label for="username" class="form-label">Nama Pengguna</label>
        <input
          type="text"
          class="form-control"
          id="username"
          placeholder="Masukkan nama pengguna kamu"
          required
        />
      </div>

      <div class="mb-2">
        <label for="password" class="form-label">Kata Sandi</label>
        <div class="password-wrapper">
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="Masukkan kata sandi kamu"
            required
          />
          <button
            type="button"
            class="toggle-password"
            aria-label="Toggle password visibility"
          >
            <i class="bi bi-eye-slash"></i>
          </button>
        </div>
      </div>

      <div class="text-end mb-4">
        <a href="/lupa_kataSandi" class="forgot-link">Lupa Kata Sandi?</a>
      </div>

      <button type="submit" class="btn-masuk" id="masukButton" disabled>
        Masuk
      </button>

      <p class="signup-text">
        Belum mempunyai akun? <a href="/daftar">Daftar</a>
      </p>
    </form>
  </div>
</div>


<!-- Scripts -->
<script>
  const username = document.getElementById("username");
  const password = document.getElementById("password");
  const masukButton = document.getElementById("masukButton");
  const togglePassword = document.querySelector(".toggle-password i");

  function validateForm() {
    masukButton.disabled = !(username.value.trim() && password.value.trim());
    masukButton.style.cursor = masukButton.disabled ? "not-allowed" : "pointer";
    masukButton.style.backgroundColor = masukButton.disabled
      ? "#d1d5db"
      : "#2563eb";
  }

  username.addEventListener("input", validateForm);
  password.addEventListener("input", validateForm);

  document
    .querySelector(".toggle-password")
    .addEventListener("click", function () {
      const type = password.type === "password" ? "text" : "password";
      password.type = type;
      togglePassword.classList.toggle("bi-eye");
      togglePassword.classList.toggle("bi bi-eye-slash");
    });
</script>

{% endblock %}
